# 仕様書駆動開発 憲法
<!-- WebアプリケーションプロジェクトのためのSpec-Driven Development Constitution -->

## 基本原則

### I. 実用的テストファースト（NON-NEGOTIABLE）
重要な機能においてはテスト優先開発を必須とする；コア機能・ビジネスロジック・API契約はテスト → 実装 → リファクタサイクルを厳格に適用；UI細部やスタイリングなど細かい部分は実装後テストも許可

### II. 型安全性優先（NON-NEGOTIABLE）
TypeScript厳格モードを必須とする；any型の使用は明示的な理由なしに禁止；型定義は実装前に設計し、契約として機能させる；unknown型の適切な使用を推奨

### III. シンプルさ優先（YAGNI原則）
現在必要でない機能は実装しない；過度な抽象化や将来の拡張性のための複雑な設計は避ける；明確な要求があるまで機能追加を控える

### IV. 日本語ドキュメント標準
すべてのドキュメント（README、仕様書、コメント、コミットメッセージ）は日本語で記述；コード内の変数・関数名・型名は英語を使用；ユーザー向け文言は日本語で統一

### V. 設計優先アプローチ
実装前の設計検討を必須とする；データモデル・API契約・コンポーネント設計を事前定義；設計 → 実装 → レビューの段階的アプローチを採用

## AIエージェント制御ルール（Steering）

### 自律実行制御
- **確認レベル**: ファイル作成・変更前に内容説明を行う
- **実行範囲**: 単純なコード生成は自動実行可能
- **エスカレーション**: アーキテクチャ変更は事前確認必須

### 意思決定フレームワーク
- **優先順位**: 1) 型安全性 → 2) テスト可能性 → 3) シンプルさ → 4) パフォーマンス
- **品質基準**: TypeScript strict mode + 適切なテストカバレッジ
- **安全制約**: any型使用・テスト無しの重要機能実装は禁止

### 応答品質基準
- **思考プロセス共有**: 設計判断の理由を日本語で明確に説明
- **根本原因分析**: 問題の表面的解決ではなく本質的要因を分析
- **段階的アプローチ**: 複雑な問題は段階的に分解して解決

## 技術制約

### 開発技術スタック
- **フロントエンド**: React + TypeScript（関数型コンポーネント必須）
- **テストフレームワーク**: Vitest + Testing Library
- **型チェック**: TypeScript strict mode有効
- **コードフォーマット**: Prettier + ESLint設定

### プロジェクト構成
- **ディレクトリ構造**: 機能ベース構成（pages/components/hooks/utils）
- **命名規則**: camelCase（変数・関数）、PascalCase（コンポーネント・型）
- **ファイル拡張子**: .tsx（コンポーネント）、.ts（ロジック）

## 開発ワークフロー

### コード品質管理
- **プリコミット**: ESLint + Prettier + 型チェック実行
- **テスト実行**: 重要機能のテストが通ることを確認
- **コードレビュー**: 憲法遵守の確認を含む

### テスト戦略
- **重要機能**: TDD必須（ビジネスロジック・API連携・状態管理）
- **UI細部**: 実装後テストも許可（スタイリング・微細な動作）
- **統合テスト**: 主要ユーザーフローに対して実施

## ガバナンス

### 憲法遵守（NON-NEGOTIABLE）
この憲法はすべての開発慣行に優先する；違反は即座に修正対象とする；新規参加者には憲法の理解を必須とする

### 変更管理（厳格運用）
- **Level 0（不変）**: 基本原則（テストファースト・型安全性・YAGNI・日本語ドキュメント）
- **Level 1（例外的変更）**: 技術スタック・開発プロセス（重大な理由がある場合のみ）
- **Level 2（プロジェクト判断）**: ディレクトリ構成・命名規則（プロジェクト固有の要求による調整）

### 品質ゲート
すべてのPR/コミットで憲法コンプライアンス確認；型エラー・重要機能テスト失敗時はマージ禁止；複雑性導入は日本語での十分な正当化が必要

**バージョン**: 1.0.0 | **批准日**: 2025-09-10 | **最終修正日**: 2025-09-10